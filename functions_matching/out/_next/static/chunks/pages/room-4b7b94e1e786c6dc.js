(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[635],{9053:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/room",function(){return r(2357)}])},221:function(e,s,r){"use strict";r.d(s,{Z:function(){return h}});var l=r(5893),n=r(8604),t=r(6718),i=r(8464);let c=()=>{let e=new t.hJ;return(0,t.rh)(i.I8,e)},o=()=>(0,t.w7)(i.I8);var a=r(1664),d=r.n(a),x=r(7294),h=()=>{let[e,s]=(0,x.useState)(!1),{user:r}=(0,n.a)(),[t,i]=(0,x.useState)(!1),a=()=>{i(!0),c().catch(e=>{console.error(null==e?void 0:e.code)}).finally(()=>{i(!1)})};return(0,l.jsxs)("div",{className:"apply-font",children:[(0,l.jsx)("div",{className:"page-background"}),(0,l.jsxs)("nav",{className:"px-5 py-0text-[#F0E3E3]",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)(d(),{href:"/",scroll:!1,children:(0,l.jsx)("b",{className:"font-semibold text-6xl cursor-pointer",children:"Socrates"})}),(0,l.jsx)("button",{onClick:()=>s(!e),className:"text-3xl md:hidden focus:outline-none",children:"☰"}),(0,l.jsxs)("div",{className:"hidden md:flex text-4xl",children:[(0,l.jsx)(d(),{href:"/",scroll:!1,children:(0,l.jsx)("b",{className:"mr-4 cursor-pointer",children:"Home"})}),r&&(0,l.jsx)(d(),{href:"/create",scroll:!1,children:(0,l.jsx)("b",{className:"mr-4 cursor-pointer",children:"Create"})}),r&&(0,l.jsx)(d(),{href:"/room",scroll:!1,children:(0,l.jsx)("b",{className:"mr-4 cursor-pointer",children:"Room"})}),r&&(0,l.jsx)(d(),{href:"/ranking",scroll:!1,children:(0,l.jsx)("b",{className:"mr-4 cursor-pointer",children:"Ranking"})}),r&&(0,l.jsx)(d(),{href:"/profile",scroll:!1,children:(0,l.jsx)("b",{className:"mr-4 cursor-pointer",children:"Profile"})}),(0,l.jsx)("div",{onClick:()=>s(!1),className:"cursor-pointer pl-4",children:null===r&&!t&&(0,l.jsx)("button",{onClick:a,children:(0,l.jsx)("b",{children:"Login"})})}),(0,l.jsx)("div",{onClick:()=>s(!1),className:"cursor-pointer ",children:r&&(0,l.jsx)("button",{onClick:o,children:(0,l.jsx)("b",{children:"Logout"})})})]})]}),(0,l.jsxs)("div",{className:"fixed inset-0 z-20 p-10 text-lg md:hidden ".concat(e?"opacity-100":"opacity-0 pointer-events-none"," transition-opacity duration-500 ease-in-out transform ").concat(e?"translate-y-0":"translate3d(0, -10px, 0)"),style:{backgroundColor:"rgba(25, 24, 37, 0.95)",willChange:"opacity, transform"},children:[(0,l.jsx)("button",{onClick:()=>s(!1),className:"absolute top-5 right-5 text-8xl cursor-pointer focus:outline-none transition-transform duration-300 ease-out",style:{transform:e?"rotate(0)":"rotate(90deg)",willChange:"transform"},children:"\xd7"}),(0,l.jsxs)("ul",{className:"space-y-8 ".concat(e?"translate-y-0":"-translate-y-10"," transition-transform duration-500 ease-in-out"),children:[(0,l.jsx)("li",{children:(0,l.jsx)(d(),{href:"/",scroll:!1,children:(0,l.jsx)("b",{onClick:()=>s(!1),className:"cursor-pointer text-7xl",children:"Home"})})}),r&&(0,l.jsx)("li",{children:(0,l.jsx)(d(),{href:"/create",scroll:!1,children:(0,l.jsx)("b",{onClick:()=>s(!1),className:"cursor-pointer text-7xl",children:"Create"})})}),r&&(0,l.jsx)("li",{children:(0,l.jsx)(d(),{href:"/room",scroll:!1,children:(0,l.jsx)("b",{onClick:()=>s(!1),className:"cursor-pointer text-7xl",children:"Room"})})}),r&&(0,l.jsx)("li",{children:(0,l.jsx)(d(),{href:"/ranking",scroll:!1,children:(0,l.jsx)("b",{onClick:()=>s(!1),className:"cursor-pointer text-7xl",children:"Ranking"})})}),r&&(0,l.jsx)("li",{children:(0,l.jsx)(d(),{href:"/profile",scroll:!1,children:(0,l.jsx)("b",{onClick:()=>s(!1),className:"cursor-pointer text-7xl",children:"Profile"})})}),(0,l.jsx)("li",{children:(0,l.jsx)("div",{onClick:()=>s(!1),className:"cursor-pointer text-7xl",children:null===r&&!t&&(0,l.jsx)("button",{onClick:a,children:(0,l.jsx)("b",{children:"Login"})})})}),(0,l.jsx)("li",{children:(0,l.jsx)("div",{onClick:()=>s(!1),className:"cursor-pointer text-7xl",children:r&&(0,l.jsx)("button",{onClick:o,children:(0,l.jsx)("b",{children:"Logout"})})})})]})]})]})]})}},2357:function(e,s,r){"use strict";r.r(s);var l=r(5893),n=r(8604),t=r(9828),i=r(7004),c=r(1163),o=r(7294),a=r(221),d=r(8464);s.default=()=>{let[e,s]=(0,o.useState)([]),[r,x]=(0,o.useState)(!1),h=(0,c.useRouter)(),{user:u}=(0,n.a)();(0,o.useEffect)(()=>{u&&(async()=>{let e=(0,t.hJ)(d.db,"waiting_list"),r=await (0,t.PL)(e),l=[];r.forEach(e=>{e.data().userId!==(null==u?void 0:u.id)&&l.push({id:e.id,...e.data()})}),s(l)})()},[u]);let m=async(e,s)=>{x(!0);let r=(0,i.V1)(d.wk,"enqueueUser");try{var l;console.log(e);let n=await r({roomId:e,topic:s});console.log(n.data),h.push("/session/".concat(null==n?void 0:null===(l=n.data)||void 0===l?void 0:l.session_id))}catch(e){console.error("ルームの参加に失敗しました:",e),alert("ルームに参加できませんでした。")}};return(0,l.jsxs)("div",{className:"japanese-font mx-auto max-w-6xl pt-8 px-4 min-h-screen text-outline",children:[(0,l.jsx)(a.Z,{}),(0,l.jsxs)("div",{className:"space-y-4 mx-auto max-w-6xl pt-8 px-4 py-0 min-h-screen text-outline",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-4 my-9",children:"ルーム一覧"}),e.length>0?e.map(e=>(0,l.jsxs)("button",{className:"bg-gray-900 p-4 rounded-lg shadow w-full text-left",onClick:()=>m(e.id,e.topic),disabled:r,children:[(0,l.jsx)("h2",{className:"text-xl font-bold",children:e.topic}),(0,l.jsx)("h2",{className:"text-xl font-bold",children:e.userName})]},e.id)):(0,l.jsx)("p",{children:"待機中のルームはありません。"})]}),r&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})})]})}}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=9053)}),_N_E=e.O()}]);